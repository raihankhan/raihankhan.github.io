<!doctype html><html lang=en><head><title>Expanding Rods(LightOj-1137)</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.650f674fc19266f4ea6c7b54bb6a4ffad10dfa641e3bea6de0a8472a99807590.css integrity="sha256-ZQ9nT8GSZvTqbHtUu2pP+tEN+mQeO+pt4KhHKpmAdZA="><link rel=icon type=image/png href=/images/site/favicon_hu8d06a445fa315a92acd134aa193a2ef4_18332_42x0_resize_box_3.png><meta property="og:title" content="Expanding Rods(LightOj-1137)"><meta property="og:description" content="Binary search with basic geometry"><meta property="og:type" content="article"><meta property="og:url" content="https://raihankhan.github.io/posts/problem-discussion/lightoj/1137/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-08T08:06:25+06:00"><meta property="article:modified_time" content="2023-03-08T08:06:25+06:00"><meta name=description content="Binary search with basic geometry"></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/main-logo_hu8d06a445fa315a92acd134aa193a2ef4_18332_42x0_resize_box_3.png alt=Logo>
Raihan Khan</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu8d06a445fa315a92acd134aa193a2ef4_18332_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hu1ad1d0ec896b687f4dd5a656075cbc70_13138_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><a href=/posts/introduction/ title=Introduction>Introduction</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/linux/>Linux</a><ul><li><a href=/posts/linux/linux-file-systems/ title="Linux file systems">Linux file systems</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/problem-discussion/>Problem Discussion</a><ul class=active><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/problem-discussion/lightoj/>LightOJ</a><ul class=active><li><a class=active href=/posts/problem-discussion/lightoj/1137/ title=1137>1137</a></li></ul></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/category/>Category</a><ul><li><i class="fas fa-plus-circle"></i><a href=/posts/category/sub-category/>Sub-Category</a><ul><li><a href=/posts/category/sub-category/rich-content/ title="Rich Content">Rich Content</a></li></ul></li></ul></li><li><a href=/posts/markdown-sample/ title="Markdown Sample">Markdown Sample</a></li><li><a href=/posts/shortcodes/ title="Shortcodes Sample">Shortcodes Sample</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/problem-discussion/lightoj/1137/images/hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/raihan_hufdd405199a303067052c8eb2da0f416e_1334006_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>Raihan Khan</h5><p>Wednesday, March 8, 2023</p></div><div class=title><h1>Expanding Rods(LightOj-1137)</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/tags/markdown/ class="btn, btn-sm">Markdown</a></li><li class=rounded><a href=/tags/content-organization/ class="btn, btn-sm">Content Organization</a></li><li class=rounded><a href=/tags/multi-lingual/ class="btn, btn-sm">Multi-lingual</a></li></ul></div><div class=post-content id=post-content><h3 id=problem-statementhttpslightojcomproblemexpanding-rods><a href=https://lightoj.com/problem/expanding-rods target=_blank rel=noopener>Problem statement</a></h3><p>Here we are given a solid rod of length L that expands to length L&rsquo; and creates an arch shape with the original shape of the rod. Our task is to compute the distance by which the center of the rod is displaced. The problem could be easily visualized with the given picture in the problem statement. Let&rsquo;s assume the straight rod AB is placed inside a circle and the arch shaped rod AB arch is on the perimeter of this circle. We can visualize it like this -</p><p><img src=images/diagram.png alt="Diagram here"></p><p>Here h+c is the diameter of the circle. our aim is to find this h. This line have intersected our original rod shape line AB at the centre and so we can say that L = 2a or a = L/2. Now, from the <a href=https://www.mathopenref.com/chordsintersecting.html target=_blank rel=noopener>Intersecting Cord Theorem</a> we get -</p><img src="https://latex.codecogs.com/gif.latex?a\cdot&space;a=&space;h\cdot&space;c" title="a\cdot a= h\cdot c">
<img src="https://latex.codecogs.com/gif.latex?a^{2}=&space;h\cdot&space;c" title="a^{2}= h\cdot c">
<img src="https://latex.codecogs.com/gif.latex?c=&space;\frac{a^{2}}{h}" title="c= \frac{a^{2}}{h}"><p>Let D be the diameter of this circle and r be the radius. Hence,</p><img src="https://latex.codecogs.com/gif.latex?D&space;=h+c" title="D =h+c">
<img src="https://latex.codecogs.com/gif.latex?D&space;=h+\frac{a^{2}}{h}" title="D =h+\frac{a^{2}}{h}"><p>Deviding D by 2 we get the radius</p><img src="https://latex.codecogs.com/gif.latex?r=&space;\frac{D}{2}" title="r= \frac{D}{2}">
<img src="https://latex.codecogs.com/gif.latex?=\frac{h}{2}+\frac{a^{2}}{2h}" title="=\frac{h}{2}+\frac{a^{2}}{2h}">
<img src="https://latex.codecogs.com/gif.latex?=\frac{h}{2}+\frac{(\frac{L}{2})^{2}}{2h}[&space;a&space;=&space;\frac{L}{2}]" title="=\frac{h}{2}+\frac{(\frac{L}{2})^{2}}{2h}[ a = \frac{L}{2}]">
<img src="https://latex.codecogs.com/gif.latex?=&space;\frac{h}{2}&space;+&space;\frac{L^{2}}{8h}" title="= \frac{h}{2} + \frac{L^{2}}{8h}"><p>Let&rsquo;s find out theta as shown in the circle. As theta is an angle in a parpendicular triangle and we know value of two of the sides r and a, we can easily calculate it.</p><p><img src=https://user-images.githubusercontent.com/25270629/116124297-eaaf2300-a6e5-11eb-95ca-64a6dc166b3f.gif alt="CodeCogsEqn (5)"></p><p><img src=https://user-images.githubusercontent.com/25270629/116124094-a885e180-a6e5-11eb-9593-a4bd3c815253.gif alt=CodeCogsEqn></p><p>Now lets&rsquo;s see - we have radius of the circle r, we have an angle theta, if we double theta we get the angle for arch AB. So, we can calculate the arch length using <img src="https://latex.codecogs.com/gif.latex?S=&space;r\Theta" title="S= r\Theta"> formula. At first we will calculate L&rsquo; as given in the problem statement.</p><img src="https://latex.codecogs.com/gif.latex?L{}'=&space;\left&space;(&space;1+n*c&space;\right&space;)*L{\color{Teal}&space;{\color{Emerald}&space;}}" title="L{}'= \left ( 1+n*c \right )*L{\color{Teal} {\color{Emerald} }}"><p>We can now apply binary search/bisection method using h as a key or mid value, lower bound as 0 and higher bound as L/2 (as it is said- Input data guarantee that no rod expands by more than one-half of its original length, so h must be smaller than L/2). For each corresponding value of h, S will be determined and compared to L&rsquo;. If S is greater that L&rsquo; that means we need to lower the value of h. If S is lesser that L&rsquo; that means we need to increase the value of h. After some careful iteration we will get our required value of h within O(log2(L/2)) complexity for each testcase.</p><h3 id=source-code>Source Code</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#75715e>#include</span><span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#define EPS 1e-7
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>int</span> T;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>double</span> L,n,C;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    cin <span style=color:#f92672>&gt;&gt;</span> T;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> t<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;t<span style=color:#f92672>&lt;=</span>T;t<span style=color:#f92672>++</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        cin <span style=color:#f92672>&gt;&gt;</span> L <span style=color:#f92672>&gt;&gt;</span> n <span style=color:#f92672>&gt;&gt;</span> C;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>double</span> L_prime <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1.0</span><span style=color:#f92672>+</span>n<span style=color:#f92672>*</span>C)<span style=color:#f92672>*</span>L;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>double</span> a <span style=color:#f92672>=</span> L<span style=color:#f92672>/</span><span style=color:#ae81ff>2.0</span>,s<span style=color:#f92672>=</span>L_prime;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>double</span> h,r,theta,temp_s,low<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>,high<span style=color:#f92672>=</span>L<span style=color:#f92672>/</span><span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span>(high<span style=color:#f92672>-</span>low<span style=color:#f92672>&gt;</span>EPS)
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>	    h <span style=color:#f92672>=</span> (low<span style=color:#f92672>+</span>high)<span style=color:#f92672>/</span><span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>            r <span style=color:#f92672>=</span> ((L<span style=color:#f92672>*</span>L)<span style=color:#f92672>/</span>(<span style=color:#ae81ff>8.0</span><span style=color:#f92672>*</span>h)) <span style=color:#f92672>+</span> (h<span style=color:#f92672>/</span><span style=color:#ae81ff>2.0</span>);
</span></span><span style=display:flex><span>            theta <span style=color:#f92672>=</span> <span style=color:#ae81ff>2.0</span><span style=color:#f92672>*</span>asin(a<span style=color:#f92672>/</span>r);
</span></span><span style=display:flex><span>            temp_s <span style=color:#f92672>=</span> r<span style=color:#f92672>*</span>theta;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span>(temp_s<span style=color:#f92672>&gt;=</span>s)
</span></span><span style=display:flex><span>                high<span style=color:#f92672>=</span>h;
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>else</span> low<span style=color:#f92672>=</span>h;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        cout <span style=color:#f92672>&lt;&lt;</span>  <span style=color:#e6db74>&#34;Case &#34;</span> <span style=color:#f92672>&lt;&lt;</span> t <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;: &#34;</span> <span style=color:#f92672>&lt;&lt;</span> setprecision(<span style=color:#ae81ff>7</span>) <span style=color:#f92672>&lt;&lt;</span> fixed <span style=color:#f92672>&lt;&lt;</span> low <span style=color:#f92672>&lt;&lt;</span> endl;
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fraihankhan.github.io%2fposts%2fproblem-discussion%2flightoj%2f1137%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fraihankhan.github.io%2fposts%2fproblem-discussion%2flightoj%2f1137%2f&text=Expanding%20Rods%28LightOj-1137%29&via=Raihan%20Khan" target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fraihankhan.github.io%2fposts%2fproblem-discussion%2flightoj%2f1137%2f&title=Expanding%20Rods%28LightOj-1137%29" target=_blank><i class="fab fa-reddit"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fraihankhan.github.io%2fposts%2fproblem-discussion%2flightoj%2f1137%2f&title=Expanding%20Rods%28LightOj-1137%29" target=_blank><i class="fab fa-linkedin"></i></a>
<a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Expanding%20Rods%28LightOj-1137%29 https%3a%2f%2fraihankhan.github.io%2fposts%2fproblem-discussion%2flightoj%2f1137%2f" target=_blank><i class="fab fa-whatsapp"></i></a>
<a class="btn btn-sm email-btn" href="mailto:?subject=Expanding%20Rods%28LightOj-1137%29&body=https%3a%2f%2fraihankhan.github.io%2fposts%2fproblem-discussion%2flightoj%2f1137%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/raihankhan/raihankhan.github.io/edit/main/content/posts/problem-discussion/LightOJ/1137/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/linux/linux-file-systems/ title="Linux File Systems" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>Linux File Systems</div></a></div><div class="col-md-6 next-article"><a href=/posts/category/sub-category/rich-content/ title="Rich Content" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Rich Content</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#problem-statementhttpslightojcomproblemexpanding-rods><a href=https://lightoj.com/problem/expanding-rods>Problem statement</a></a></li><li><a href=#source-code>Source Code</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://raihankhan.github.io#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://raihankhan.github.io#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://raihankhan.github.io#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://raihankhan.github.io#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://raihankhan.github.io#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=https://raihankhan.github.io#publications>Publications</a></li><li class=nav-item><a class=smooth-scroll href=https://raihankhan.github.io#achievements>Achievements</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:raihankhanraka@gmail.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>raihankhanraka@gmail.com</span></a></li><li><a href=https://github.com/raihankhan target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>raihankhan</span></a></li><li><a href=https://www.linkedin.com/in/raihankhanraka target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Raihan Khan</span></a></li><li><span><i class="fas fa-phone-alt"></i></span> <span>+8801521331536</span></li></ul></div></div></div><hr><div class=container><p id=disclaimer><strong>Liability Notice:</strong> This theme is under MIT license. So, you can use it for non-commercial, commercial, or private uses. You can modify or distribute the theme without requiring any permission from the theme author. However, the theme author does not provide any warranty or takes any liability for any issue with the theme.</p></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">Â© Raihan Khan, 2023 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.23087dfdfb44be28a4f0becea508e281f2ad4037cb0c8496ce1ff8000ef9dc7d.js integrity="sha256-Iwh9/ftEviik8L7OpQjigfKtQDfLDISWzh/4AA753H0=" defer></script></body></html>